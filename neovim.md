# Шпаргалка (NEO)VIM made by Pekod

## очистить кэши от старого нвима clean cache nvim

`rm -rf ~/.config/nvim ~/.local/share/nvim ~/.local/state/nvim ~/.cache/nvim`

## vim check clipboard

`vim --version | grep clipboard`

## базовое использование

`hjkl`перемещение в разные стороны  
`\` по-умолчанию это leader key  
`$` перемещение в конец строки  
`b` перемещение назад от места ухода  
`gt` переключение между вкладками (tab switch)  
`i` режим вставки  
`I` добавление в начало строки  
`a` режим добавлений  
`A` добавление в конец строки  
`o` добавить строку сразу за текущей  
`O` добавить строку перед текущей  
`R` писать поверх имеющегося текста  
`u` отмена предыдущего действия (undo)  
`CTR-R` отмена отмены предыдущего действия (redo)  
`dd` вырезать (удалить) строку  
`cc` удалить и начать редактирование  
`cw` писать вместо слова (change word)  
`yy` копировать строку  
`p` вставить из буфера обмена  
`<n>d` удалить n+1 строку  
`<n>y` скопировать n+1 строку  
`DEL` удалить следующий символ  
`:<n>` перейти на строку n  
`%` перейти к парной скобке  
`:w ++ff=unix` перезапись в файловом формате UNIX  
`:e ++ff=unix` редактировать в файловом формате UNIX  
`:e **/filename.c` редактировать файл (с поиском по имени)  
`:w файл.расширение` записать изменения  
`:wa` сохранить изменения во всех файлах  
`:q` выйти из редактора  
`ZZ` сохранить и выйти  
`:x` сохранить и выйти  
`:so %` применить конфиг nvim в моменте  
`:q!` выйти из редактора, не сохраняя изменения  
`CTR+p или CTR+n` автоматическое дополнение текста (insert mode)  
`CTR+u, CTR+d` Page Up / Page Down  
`CTR+y, CTR+e` перемотка вверх/вниз без движения курсора  
`CTR+z` свернуть вим (засуспендить)  
`CTR+a(x)` incremenet (decrement)

## Маркеры

`ma` установить локальный маркер a  
`mB` установить глобальный маркер B  
`'c` перейти к локальному маркеру c  
`'0` вернуться на позицию, на которой закончили  
`:marks` просмотр маркеров  
`set viminfo='1000,f1` маркеры пишутся в ~/.viminfo

## Сессии

`:mksession file.session` сохранить текущую сессию  
`:source file.session` восстановить ранее сохраненную сессию

## Макросы

`qa` записать макрос с именем "a"  
`q` в режиме записи макроса: закончить запись  
`@a` выполнить макрос с именем "a"  
`@@` повторить последний макрос

## Выделение

`v + hjkl` выделение текста  
`SHIFT + v` выделить строку  
`CTRL + v` выделение прямоугольника (блочное выделение)  
`p` вставить  
`y` копировать  
`d` удалить  
`gu` к нижнему регистру  
`gU` к верхнему регистру

## Отступы

`>` сдвинуть выделенное вправо  
`<` сдвинуть выделенное влево  
`>>` сдвинуть строку вправо  
`<<` сдвинуть строку влево

## Поиск и замена

`:%s/чтоменять/начтозамениться/g`  
`:%s/foo/bar/gi` игнорирование регистра  
`:3,15s/foo/bar/g` замена в диапазоне строк
`:g/George Bush/ d` delete all lines that match "George Bush"

## Работа с вкладками (табами)

`:tabnew [fname]` создать таб  
`:tabs` вывод список табов  
`:tabn` следующий таб  
`:tabp` предыдущий таб  
`<n>gt` перейти на таб номер вкладки  
`gt` следующий таб  
`gT` предыдущий таб  
`:tabm +1` переместить таб вперед на одну позицию  
`:tabm -1` переместить таб назад на одну позицию  
`:tabm 2` переместить таб на заданную позицию (нумерация начинается с 0)

## Работа с окнами

`:split` горизонтальное разбиение  
`:vsplit` вертикальное разбиение  
`Ctr+W` затем  
 `с` закрыть окно  
 `+-` изменение высоты текущего окна  
 `<>` изменение ширины текущего окна  
 `=` установить равный размер окон  
 `hjkl или стрелочки` перемещение между окнами

## Работа с кодировкой

`e ++enc=<имя кодировки>` Редактирование файла в ??? кодировке  
`w ++enc=<имя кодировки>` Сохранить файл в новой кодировке

[Перечень кодировок (encoding-values)](https://vimdoc.sourceforge.net/htmldoc/mbyte.html#mbyte-encoding)

## Другое

`:set list` Отображать табуляцию и переводы строк  
`q:` История команд  
`.` Повторение последней команды  
`nvim -V3log` Запрос лога
`:split | term python %`
`space+e` show full line of code error  
`:args` Список открытых файлов  
`:call mkdp#util#install()` установка утилиты вручную для работы markdown-preview
